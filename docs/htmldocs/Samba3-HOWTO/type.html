<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Part II. Server Configuration Basics</title><link rel="stylesheet" href="../samba.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.73.2"><link rel="start" href="index.html" title="The Official Samba 3.2.x HOWTO and Reference Guide"><link rel="up" href="index.html" title="The Official Samba 3.2.x HOWTO and Reference Guide"><link rel="prev" href="FastStart.html" title="Chapter 2. Fast Start: Cure for Impatience"><link rel="next" href="ServerType.html" title="Chapter 3. Server Types and Security Modes"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Part II. Server Configuration Basics</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="FastStart.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ServerType.html">Next</a></td></tr></table><hr></div><div class="part" lang="en"><div class="titlepage"><div><div><h1 class="title"><a name="type"></a>Part II. Server Configuration Basics</h1></div></div></div><div class="partintro" lang="en"><div><div><div><h1 class="title"><a name="id348123"></a>First Steps in Server Configuration</h1></div></div></div><p>
Samba can operate in various modes within SMB networks. This HOWTO section contains information on
configuring Samba to function as the type of server your network requires. Please read this
section carefully.
</p><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="chapter"><a href="ServerType.html">3. Server Types and Security Modes</a></span></dt><dd><dl><dt><span class="sect1"><a href="ServerType.html#id348248">Features and Benefits</a></span></dt><dt><span class="sect1"><a href="ServerType.html#id348391">Server Types</a></span></dt><dt><span class="sect1"><a href="ServerType.html#id348528">Samba Security Modes</a></span></dt><dd><dl><dt><span class="sect2"><a href="ServerType.html#id348670">User Level Security</a></span></dt><dt><span class="sect2"><a href="ServerType.html#id348818">Share-Level Security</a></span></dt><dt><span class="sect2"><a href="ServerType.html#id348983">Domain Security Mode (User-Level Security)</a></span></dt><dt><span class="sect2"><a href="ServerType.html#id349436">ADS Security Mode (User-Level Security)</a></span></dt><dt><span class="sect2"><a href="ServerType.html#id349568">Server Security (User Level Security)</a></span></dt></dl></dd><dt><span class="sect1"><a href="ServerType.html#id349809">Password Checking</a></span></dt><dt><span class="sect1"><a href="ServerType.html#id349964">Common Errors</a></span></dt><dd><dl><dt><span class="sect2"><a href="ServerType.html#id349982">What Makes Samba a Server?</a></span></dt><dt><span class="sect2"><a href="ServerType.html#id350010">What Makes Samba a Domain Controller?</a></span></dt><dt><span class="sect2"><a href="ServerType.html#id350044">What Makes Samba a Domain Member?</a></span></dt><dt><span class="sect2"><a href="ServerType.html#id350068">Constantly Losing Connections to Password Server</a></span></dt><dt><span class="sect2"><a href="ServerType.html#id350107">Stand-alone Server is converted to Domain Controller  Now User accounts don't work</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="samba-pdc.html">4. Domain Control</a></span></dt><dd><dl><dt><span class="sect1"><a href="samba-pdc.html#id350383">Features and Benefits</a></span></dt><dt><span class="sect1"><a href="samba-pdc.html#id350916">Single Sign-On and Domain Security</a></span></dt><dt><span class="sect1"><a href="samba-pdc.html#id351422">Basics of Domain Control</a></span></dt><dd><dl><dt><span class="sect2"><a href="samba-pdc.html#id351440">Domain Controller Types</a></span></dt><dt><span class="sect2"><a href="samba-pdc.html#id351897">Preparing for Domain Control</a></span></dt></dl></dd><dt><span class="sect1"><a href="samba-pdc.html#id352363">Domain Control: Example Configuration</a></span></dt><dt><span class="sect1"><a href="samba-pdc.html#id353075">Samba ADS Domain Control</a></span></dt><dt><span class="sect1"><a href="samba-pdc.html#id353118">Domain and Network Logon Configuration</a></span></dt><dd><dl><dt><span class="sect2"><a href="samba-pdc.html#id353135">Domain Network Logon Service</a></span></dt><dt><span class="sect2"><a href="samba-pdc.html#id353672">Security Mode and Master Browsers</a></span></dt></dl></dd><dt><span class="sect1"><a href="samba-pdc.html#id353902">Common Errors</a></span></dt><dd><dl><dt><span class="sect2"><a href="samba-pdc.html#id353908">&#8220;<span class="quote">$</span>&#8221; Cannot Be Included in Machine Name</a></span></dt><dt><span class="sect2"><a href="samba-pdc.html#id354002">Joining Domain Fails Because of Existing Machine Account</a></span></dt><dt><span class="sect2"><a href="samba-pdc.html#id354061">The System Cannot Log You On (C000019B)</a></span></dt><dt><span class="sect2"><a href="samba-pdc.html#id354127">The Machine Trust Account Is Not Accessible</a></span></dt><dt><span class="sect2"><a href="samba-pdc.html#id354233">Account Disabled</a></span></dt><dt><span class="sect2"><a href="samba-pdc.html#id354258">Domain Controller Unavailable</a></span></dt><dt><span class="sect2"><a href="samba-pdc.html#id354275">Cannot Log onto Domain Member Workstation After Joining Domain</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="samba-bdc.html">5. Backup Domain Control</a></span></dt><dd><dl><dt><span class="sect1"><a href="samba-bdc.html#id354448">Features and Benefits</a></span></dt><dt><span class="sect1"><a href="samba-bdc.html#id354824">Essential Background Information</a></span></dt><dd><dl><dt><span class="sect2"><a href="samba-bdc.html#id354888">MS Windows NT4-style Domain Control</a></span></dt><dt><span class="sect2"><a href="samba-bdc.html#id355509">LDAP Configuration Notes</a></span></dt><dt><span class="sect2"><a href="samba-bdc.html#id355841">Active Directory Domain Control</a></span></dt><dt><span class="sect2"><a href="samba-bdc.html#id355895">What Qualifies a Domain Controller on the Network?</a></span></dt><dt><span class="sect2"><a href="samba-bdc.html#id355977">How Does a Workstation find its Domain Controller?</a></span></dt></dl></dd><dt><span class="sect1"><a href="samba-bdc.html#id356136">Backup Domain Controller Configuration</a></span></dt><dd><dl><dt><span class="sect2"><a href="samba-bdc.html#id356607">Example Configuration</a></span></dt></dl></dd><dt><span class="sect1"><a href="samba-bdc.html#id357036">Common Errors</a></span></dt><dd><dl><dt><span class="sect2"><a href="samba-bdc.html#id357076">Machine Accounts Keep Expiring</a></span></dt><dt><span class="sect2"><a href="samba-bdc.html#id357123">Can Samba Be a Backup Domain Controller to an NT4 PDC?</a></span></dt><dt><span class="sect2"><a href="samba-bdc.html#id357175">How Do I Replicate the smbpasswd File?</a></span></dt><dt><span class="sect2"><a href="samba-bdc.html#id357273">Can I Do This All with LDAP?</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="domain-member.html">6. Domain Membership</a></span></dt><dd><dl><dt><span class="sect1"><a href="domain-member.html#id357504">Features and Benefits</a></span></dt><dt><span class="sect1"><a href="domain-member.html#machine-trust-accounts">MS Windows Workstation/Server Machine Trust Accounts</a></span></dt><dd><dl><dt><span class="sect2"><a href="domain-member.html#id358142">Manual Creation of Machine Trust Accounts</a></span></dt><dt><span class="sect2"><a href="domain-member.html#id358557">Managing Domain Machine Accounts using NT4 Server Manager</a></span></dt><dt><span class="sect2"><a href="domain-member.html#id358823">On-the-Fly Creation of Machine Trust Accounts</a></span></dt><dt><span class="sect2"><a href="domain-member.html#id358922">Making an MS Windows Workstation or Server a Domain Member</a></span></dt></dl></dd><dt><span class="sect1"><a href="domain-member.html#domain-member-server">Domain Member Server</a></span></dt><dd><dl><dt><span class="sect2"><a href="domain-member.html#id359354">Joining an NT4-type Domain with Samba-3</a></span></dt><dt><span class="sect2"><a href="domain-member.html#id360049">Why Is This Better Than <em class="parameter"><code>security = server</code></em>?</a></span></dt></dl></dd><dt><span class="sect1"><a href="domain-member.html#ads-member">Samba ADS Domain Membership</a></span></dt><dd><dl><dt><span class="sect2"><a href="domain-member.html#id360309">Configure <code class="filename">smb.conf</code></a></span></dt><dt><span class="sect2"><a href="domain-member.html#id360490">Configure <code class="filename">/etc/krb5.conf</code></a></span></dt><dt><span class="sect2"><a href="domain-member.html#ads-create-machine-account">Create the Computer Account</a></span></dt><dt><span class="sect2"><a href="domain-member.html#ads-test-server">Testing Server Setup</a></span></dt><dt><span class="sect2"><a href="domain-member.html#ads-test-smbclient">Testing with <span class="application">smbclient</span></a></span></dt><dt><span class="sect2"><a href="domain-member.html#id361523">Notes</a></span></dt></dl></dd><dt><span class="sect1"><a href="domain-member.html#id361592">Sharing User ID Mappings between Samba Domain Members</a></span></dt><dt><span class="sect1"><a href="domain-member.html#id361789">Common Errors</a></span></dt><dd><dl><dt><span class="sect2"><a href="domain-member.html#id361823">Cannot Add Machine Back to Domain</a></span></dt><dt><span class="sect2"><a href="domain-member.html#id361893">Adding Machine to Domain Fails</a></span></dt><dt><span class="sect2"><a href="domain-member.html#id362113">I Can't Join a Windows 2003 PDC</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="StandAloneServer.html">7. Standalone Servers</a></span></dt><dd><dl><dt><span class="sect1"><a href="StandAloneServer.html#id362231">Features and Benefits</a></span></dt><dt><span class="sect1"><a href="StandAloneServer.html#id362316">Background</a></span></dt><dt><span class="sect1"><a href="StandAloneServer.html#id362498">Example Configuration</a></span></dt><dd><dl><dt><span class="sect2"><a href="StandAloneServer.html#RefDocServer">Reference Documentation Server</a></span></dt><dt><span class="sect2"><a href="StandAloneServer.html#SimplePrintServer">Central Print Serving</a></span></dt></dl></dd><dt><span class="sect1"><a href="StandAloneServer.html#id363435">Common Errors</a></span></dt></dl></dd><dt><span class="chapter"><a href="ClientConfig.html">8. MS Windows Network Configuration Guide</a></span></dt><dd><dl><dt><span class="sect1"><a href="ClientConfig.html#id363500">Features and Benefits</a></span></dt><dt><span class="sect1"><a href="ClientConfig.html#id363553">Technical Details</a></span></dt><dd><dl><dt><span class="sect2"><a href="ClientConfig.html#id363594">TCP/IP Configuration</a></span></dt><dt><span class="sect2"><a href="ClientConfig.html#id365290">Joining a Domain: Windows 2000/XP Professional</a></span></dt><dt><span class="sect2"><a href="ClientConfig.html#id365799">Domain Logon Configuration: Windows 9x/Me</a></span></dt></dl></dd><dt><span class="sect1"><a href="ClientConfig.html#id366227">Common Errors</a></span></dt></dl></dd></dl></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="FastStart.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ServerType.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 2. Fast Start: Cure for Impatience </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 3. Server Types and Security Modes</td></tr></table></div></body></html>
